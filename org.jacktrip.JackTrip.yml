app-id: org.jacktrip.JackTrip
runtime: org.kde.Platform
runtime-version: '5.15-22.08'
sdk: org.kde.Sdk
command: jacktrip
finish-args:
  # X11 + XShm access
  - --share=ipc
  - --socket=x11
  # Wayland access
  # - --socket=wayland
  # OpenGL
  - --device=dri
  # Needs network access
  - --share=network
  # Pipewire/Jack
  - --filesystem=xdg-run/pipewire-0
cleanup:
  - /lib/python3.10
  - /share/man
modules:
  - pypi-dependencies.json
  - name: rtaudio
    buildsystem: meson
    config-opts:
      - -Dbuildtype=debugoptimized
      - -Djack=disabled
      - -Dpulse=disabled
    sources:
      - type: git
        disable-submodules: true
        url: https://github.com/thestk/rtaudio/
        tag: "5.2.0"
        commit: 46b01b5b134f33d8ddc3dab76829d4b1350e0522
  - name: jacktrip
    buildsystem: meson
    config-opts:
      - -Dbuildtype=debugoptimized
    sources:
      - type: git
        disable-submodules: true
        url: https://github.com/jacktrip/jacktrip/
        tag: "v1.7.1"
        commit: ecce2b04094ea81031a56a9e664a066c4665554c
